---
# Complete K3s Infrastructure Deployment
# Orchestrates all K3s phases in proper dependency order
# Similar to minio-complete.yml for consistent deployment patterns
#
# Note: Applications (including kube-prometheus-stack) are deployed separately
# via 'make apps-deploy-all' or 'make app-deploy APP=<name>' to enable
# clean backup/restore workflows

- name: Phase 1 - K3s Cluster Setup
  import_playbook: 01-k3s-cluster.yml
- name: Phase 1.1 - Cluster Health Check
  import_playbook: 011-cluster-health-check.yml
- name: Phase 2 - Helm Setup
  import_playbook: 02-helm-setup.yml
- name: Phase 3 - Core Infrastructure
  import_playbook: 03-core-infrastructure.yml
- name: Phase 4 - Storage Systems
  import_playbook: 04-storage-systems.yml
- name: Phase 5 - Platform Foundation
  import_playbook: 05-platform-foundation.yml
