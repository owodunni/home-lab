---
# Beelink ME Mini N150 - K3s worker node configuration
# Role: Dedicated storage worker for Longhorn distributed storage

# K3s Configuration
# =================
# This node runs as K3s agent/worker only (NOT control plane)
k3s_control_node: false

# K3s Agent Labels
# ================
# Labels for workload scheduling and Longhorn storage provisioning
k3s_agent:
  node-label:
    - "node.kubernetes.io/instance-type=beelink-n150"
    - "topology.kubernetes.io/zone=homelab"
    - "node.longhorn.io/create-default-disk=config"  # Longhorn auto-discovers /var/lib/longhorn
    - "storage=longhorn"  # For storage-specific workload affinity

# Unattended Upgrades
# ===================
# Staggered restart schedule for HA (storage node restarts last)
# Control plane nodes: 02:00, 02:30, 03:00
# Storage worker: 03:30 (ensures control plane is stable first)
unattended_automatic_reboot_time: "03:30"
